<div *ngIf="isLoading()">
  <div class="spinner-border text-info" role="status">
  </div>
  &nbsp;
  <span class="badge alert-info" style="margin-bottom: 15px"> Loading in progress </span>
</div>
<table class="table table-dark table-hover table-responsive sortable">
  <thead>
  <tr>
    <th scope="col">#</th>
    <th scope="col">Token</th>
    <th scope="col">Balance</th>
    <th scope="col">Total spending USD</th>
    <th scope="col">Total spending PLN</th>
    <th scope="col">Price USD</th>
    <th scope="col">Price PLN</th>
    <th scope="col">Value USD</th>
    <th scope="col">Value PLN</th>
    <th scope="col">Diff PLN</th>
    <th scope="col">Diff %</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let tokenSummary of plainData; let i = index">
    <td>{{i}}</td>
    <td>{{(tokenSummary)?.symbol}}</td>
    <td>{{(tokenSummary)?.balance}}</td>
    <td>{{(tokenSummary)?.totalSpendingUSD}}</td>
    <td>{{(tokenSummary)?.totalSpendingPLN}}</td>
    <td>{{(tokenSummary)?.currentPriceUSD}}</td>
    <td>{{(tokenSummary)?.currentPricePLN}}</td>
    <td>{{(tokenSummary)?.valueUSD}}</td>
    <td>{{(tokenSummary)?.valuePLN}}</td>
    <td [ngClass]="isProfit((tokenSummary)?.diffPLN) ? 'profit' : 'lose'" >{{(tokenSummary)?.diffPLN}}</td>
    <td [ngClass]="isProfit((tokenSummary)?.diffPercent) ? 'profit' : 'lose'" >{{format((tokenSummary)?.diffPercent)}}</td>
  </tr>
  </tbody>
</table>

<h2 style="margin-top: 50px; margin-bottom: 50px">TOTAL SPENDING: <span class="badge alert-primary">{{calculateTotalSpending()}}</span></h2>
<h2>TOTAL VALUE: <span class="badge alert-secondary">{{calculateTotalValue()}}</span></h2>
<h2>COMBINED: <span [ngClass]="isProfit(calculateTotal()) ? 'badge alert-success' : 'badge alert-danger'" >{{calculateTotal()}}</span></h2>


<h2>EXPERIMENTAL SMART DATA</h2>
<div *ngIf="isSmartDataLoading()">
  <div class="spinner-border text-info" role="status">
  </div>
  &nbsp;
  <span class="badge alert-info" style="margin-bottom: 15px"> Loading in progress </span>
</div>
<table class="table table-dark">
  <thead>
  <tr>
    <th scope="col">#</th>
    <th scope="col">Token</th>
    <th scope="col">Balance</th>
    <th scope="col">Total spending USD</th>
    <th scope="col">Total spending PLN</th>
    <th scope="col">Price USD</th>
    <th scope="col">Price PLN</th>
    <th scope="col">Value USD</th>
    <th scope="col">Value PLN</th>
    <th scope="col">Diff PLN</th>
    <th scope="col">Diff %</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let tokenSummary of smartData; let i = index">
    <td>{{i}}</td>
    <td>{{tokenSummary?.symbol}}</td>
    <td>{{tokenSummary?.balance}}</td>
    <td>{{tokenSummary?.totalSpendingUSD}}</td>
    <td>{{tokenSummary?.totalSpendingPLN}}</td>
    <td>{{tokenSummary?.currentPriceUSD}}</td>
    <td>{{tokenSummary?.currentPricePLN}}</td>
    <td>{{tokenSummary?.valuePLN}}</td>
    <td>{{tokenSummary?.valueUSD}}</td>
    <td [ngClass]="isProfit(tokenSummary?.diffPLN) ? 'profit' : 'lose'" >{{tokenSummary?.diffPLN}}</td>
    <td [ngClass]="isProfit(tokenSummary?.diffPercent) ? 'profit' : 'lose'" >{{format(tokenSummary?.diffPercent)}}</td>
  </tr>
  </tbody>
</table>
